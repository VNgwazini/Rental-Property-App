!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("styled-components"),require("react-window")):"function"==typeof define&&define.amd?define(["exports","react","styled-components","react-window"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactFunctionalSelect={},e.React,e.styled,e.ReactWindow)}(this,(function(e,t,n,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(t),i=o(n);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.In order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.In order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(){var e=f([""," 0.225s ease-in-out forwards"]);return p=function(){return e},e}function m(){var e=f([""," 1.19s ease-in-out infinite"]);return m=function(){return e},e}function b(){var e=f(["from{opacity:0;}to{opacity:1;}"]);return b=function(){return e},e}function v(){var e=f(["0%,80%,100%{transform:scale(0);}40%{transform:scale(1.0);}"]);return v=function(){return e},e}var g=n.keyframes(v()),h=n.keyframes(b()),y=n.css(m(),g),O=n.css(p(),h),w={color:{border:"#ced4da",danger:"#dc3545",primary:"#007bff",disabled:"#e9ecef",placeholder:"#6E7276",dangerLight:"rgba(220, 53, 69, 0.25)"},input:{},select:{},loader:{size:"0.625rem",padding:"0.375rem 0.75rem",animation:y,color:"rgba(0, 123, 255, 0.42)"},icon:{color:"#ccc",hoverColor:"#A6A6A6",padding:"0 0.9375rem",clear:{width:"14px",height:"16px",animation:O,transition:"color 0.15s ease-in-out"},caret:{size:"7px",transition:"transform 0.25s ease-in-out, color 0.15s ease-in-out"}},control:{minHeight:"38px",borderWidth:"1px",borderStyle:"solid",borderRadius:"0.25rem",boxShadow:"0 0 0 0.2rem",padding:"0.375rem 0.75rem",boxShadowColor:"rgba(0, 123, 255, 0.25)",focusedBorderColor:"rgba(0, 123, 255, 0.75)",transition:"box-shadow 0.15s ease-in-out, border-color 0.15s ease-in-out"},menu:{padding:"0",width:"100%",margin:"0.5rem 0",borderRadius:"0.25rem",backgroundColor:"#fff",animation:O,boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1), 0 4px 11px rgba(0, 0, 0, 0.1)",option:{textAlign:"left",selectedColor:"#fff",selectedBgColor:"#007bff",padding:"0.375rem 0.75rem",focusedBgColor:"rgba(0, 123, 255, 0.20)"}},noOptions:{fontSize:"1.25rem",margin:"0.25rem 0",color:"hsl(0, 0%, 60%)",padding:"0.375rem 0.75rem"},multiValue:{margin:"1px 2px",borderRadius:"0.25rem",backgroundColor:"#e7edf3",animation:O,label:{fontSize:"0.825em",borderRadius:"0.25rem",padding:"1px 2px 1px 6px"},clear:{fontWeight:700,padding:"0 7px",fontSize:"0.67em",alignItems:"center",borderRadius:"0.25rem",transition:"color 0.15s ease-in-out, background-color 0.15s ease-in-out"}}};function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=null,E=[],C=[],I={index:-1},M=/(auto|scroll)/,k=/[\u0300-\u036f]/g,T=/(MSIE|Trident\/|Edge\/|Edg\/)/i,D="rfs-option",j="".concat(D,"-focused"),P="".concat(D,"-selected"),R="".concat(D,"-disabled");function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){return e===document.documentElement||e===document.body||e===window}function N(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function L(e){return A(e)?window.pageYOffset:e.scrollTop}function F(e,t){A(e)?window.scrollTo(0,t):e.scrollTop=t}function B(e){var t=getComputedStyle(e),n="absolute"===t.position;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r?r.parentElement:null;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&M.test("".concat(t.overflow).concat(t.overflowY).concat(t.overflowX)))return r;return document.documentElement}function V(e){return Array.isArray(e)&&!!e.length}function U(e){return e&&"object"===x(e)&&!Array.isArray(e)}function q(e,t,n){var r=e.trim();return t&&(r=r.toLowerCase()),n?function(e){return e.normalize("NFD").replace(k,"")}(r):r}function W(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).forEach((function(r){n[r]=U(t[r])&&"animation"!==r?r in e?W(e[r],t[r]):t[r]:t[r]||""})),n}function H(e,t,n,r){if(e){var o=window.innerHeight,a=e.getBoundingClientRect();if(o-a.top>=a.height)r();else{var i=B(e),u=L(i),c=i.getBoundingClientRect().height-u-a.top,l=c<a.height;if(!l&&n){var d=parseInt(getComputedStyle(e).marginBottom||"0",10);!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3?arguments[3]:void 0,o=0,a=L(e),i=t-a;function u(){F(e,N(o+=5,a,i,n)),o<n?window.requestAnimationFrame(u):r&&r()}window.requestAnimationFrame(u)}(i,a.bottom-o+u+d,t,r)}else{r(l?c:void 0)}}}else r()}function K(e,t,n){var r=Array.isArray(e)?e:U(e)?[e]:C;return V(r)?r.map((function(e){return{data:e,value:t(e),label:n(e)}})):r}var Y=a.default.memo((function(e){var t=e.index,n=e.style,r=e.data,o=r.menuOptions,i=r.selectOption,u=r.renderOptionLabel,c=r.focusedOptionIndex,l=o[t],d=l.data,s=l.value,f=l.label,p=l.isDisabled,m=l.isSelected,b=function(e,t,n){var r=D;return e&&(r+=" "+R),t&&(r+=" "+P),n&&(r+=" "+j),r}(p,m,t===c),v=p?void 0:function(){return i({data:d,value:s,label:f},m)};return a.default.createElement("div",{style:n,className:b,onClick:v},u(d))}),r.areEqual);function X(){var e=f(["text-align:center;"," ",""]);return X=function(){return e},e}Y.displayName="Option";var _=i.default.div(X(),(function(e){var t=e.theme.noOptions;return"color: ".concat(t.color,";margin: ").concat(t.margin,";padding: ").concat(t.padding,";font-size: ").concat(t.fontSize,";")}),(function(e){return e.theme.noOptions.css})),$=a.default.forwardRef((function(e,n){var o=e.width,i=e.height,u=e.itemSize,c=e.isLoading,l=e.loadingMsg,d=e.menuOptions,s=e.selectOption,f=e.noOptionsMsg,p=e.overscanCount,m=e.itemKeySelector,b=e.renderOptionLabel,v=e.focusedOptionIndex,g=t.useMemo((function(){return m?function(e,t){return t.menuOptions[e][m]}:void 0}),[m]),h=t.useMemo((function(){return{menuOptions:d,selectOption:s,renderOptionLabel:b,focusedOptionIndex:v}}),[d,v,s,b]);return c?a.default.createElement(_,null,l):a.default.createElement(t.Fragment,null,a.default.createElement(r.FixedSizeList,{ref:n,width:o,height:i,itemKey:g,itemSize:u,itemData:h,overscanCount:p,itemCount:d.length},Y),!V(d)&&a.default.createElement(_,null,f))}));function G(){var e=f(["display:flex;",""]);return G=function(){return e},e}function J(){var e=f(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;",""]);return J=function(){return e},e}function Q(){var e=f(["",""]);return Q=function(){return e},e}function Z(){var e=f(["min-width:0;display:flex;animation:",";"," ",""]);return Z=function(){return e},e}$.displayName="Menu";var ee=i.default.div(Z(),(function(e){var t=e.theme;return n.css(Q(),t.multiValue.animation)}),(function(e){var t=e.theme.multiValue;return"margin: ".concat(t.margin,";border-radius: ").concat(t.borderRadius,";background-color: ").concat(t.backgroundColor,";")}),(function(e){return e.theme.multiValue.css})),te=i.default.div(J(),(function(e){var t=e.theme.multiValue.label;return"padding: ".concat(t.padding,";font-size: ").concat(t.fontSize,";border-radius: ").concat(t.borderRadius,";")})),ne=i.default.div(G(),(function(e){var t=e.isFocused,n=e.theme,r=n.color,o=n.multiValue.clear;return"padding: ".concat(o.padding,";font-size: ").concat(o.fontSize,";transition: ").concat(o.transition,";align-items: ").concat(o.alignItems,";font-weight: ").concat(o.fontWeight,";border-radius: ").concat(o.borderRadius,";background-color: ").concat(t?r.dangerLight:"transparent",";:hover {color: ").concat(r.danger,";background-color: ").concat(r.dangerLight,";}")})),re=function(e){var t=e.data,n=e.value,r=e.isFocused,o=e.renderOptionLabel,i=e.removeSelectedOption;return a.default.createElement(ee,null,a.default.createElement(te,null,o(t)),a.default.createElement(ne,{isFocused:r,"data-testid":undefined,onTouchEnd:function(e){return i(n,e)},onMouseDown:function(e){return i(n,e)}},"X"))};function oe(){var e=f(["top:50%;overflow:hidden;position:absolute;white-space:nowrap;box-sizing:border-box;text-overflow:ellipsis;transform:translateY(-50%);color:",";"]);return oe=function(){return e},e}function ae(){var e=f(["top:50%;overflow:hidden;position:absolute;white-space:nowrap;box-sizing:border-box;text-overflow:ellipsis;transform:translateY(-50%);max-width:calc(100% - 0.5rem);"]);return ae=function(){return e},e}var ie=i.default.div(ae()),ue=i.default.div(oe(),(function(e){return e.theme.color.placeholder})),ce=a.default.memo((function(e){var n=e.isMulti,r=e.inputValue,o=e.placeholder,i=e.selectedOption,u=e.focusedMultiValue,c=e.renderOptionLabel,l=e.renderMultiOptions,d=e.removeSelectedOption;return!r||n&&(!n||V(i)&&!l)?V(i)?n?a.default.createElement(t.Fragment,null,l?l({selected:i,renderOptionLabel:c}):i.map((function(e){var t=e.data,n=e.value;return a.default.createElement(re,{key:n,data:t,value:n,renderOptionLabel:c,isFocused:n===u,removeSelectedOption:d})}))):a.default.createElement(ie,null,c(i[0].data)):a.default.createElement(ue,null,o):null}));ce.displayName="Value";var le,de,se,fe;function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(le=e.MenuPositionEnum||(e.MenuPositionEnum={})).TOP="top",le.AUTO="auto",le.BOTTOM="bottom",(de=e.FilterMatchEnum||(e.FilterMatchEnum={})).ANY="any",de.START="start",function(e){e.NEXT="next",e.PREVIOUS="prev"}(se||(se={})),function(e){e.UP="up",e.DOWN="down",e.LAST="last",e.FIRST="first"}(fe||(fe={}));var be=function(n,r,o,a,i,u,c,l,d,f,p,m,b){var v=s(t.useState(E),2),g=v[0],h=v[1],y=b?"":r,O="boolean"!=typeof m?!!p:m;return t.useEffect((function(){var t=q(y,d,f),r=new Set(a.map((function(e){return e.value}))),s=c||function(e){return!!e.isDisabled},p=l||function(e){return"string"==typeof e.label?e.label:"".concat(e.label)},m=function(n){var a=i(n),c=me(me({data:n,value:a,label:u(n)},s(n)&&{isDisabled:!0}),r.has(a)&&{isSelected:!0});if(!(t&&!function(n){var r=q(p(n),d,f);return o===e.FilterMatchEnum.ANY?r.indexOf(t)>-1:r.substr(0,t.length)===t}(c)||O&&c.isSelected))return c},b=n.reduce((function(e,t){var n=m(t);return n&&e.push(n),e}),[]);h(b)}),[n,a,y,O,o,d,f,l,c,i,u]),g},ve=function(e,n){var r=t.useRef(!0);t.useEffect((function(){if(!r.current)return e();r.current=!1}),n)},ge=function(n,r,o,a,i,u,c,l,d,f,p){var m=t.useRef(!1),b=t.useRef(!1),v=s(t.useState(u),2),g=v[0],h=v[1],y=s(t.useState(a===e.MenuPositionEnum.TOP),2),O=y[0],w=y[1];t.useEffect((function(){b.current=O}),[O]),t.useEffect((function(){var t=a===e.MenuPositionEnum.TOP||a===e.MenuPositionEnum.AUTO&&!function(e){if(!e)return!0;var t=e.getBoundingClientRect(),n=B(e),r=L(n);return n.getBoundingClientRect().height-r-t.top>=t.height}(n.current);w(t)}),[n,a]),ve((function(){if(o){var e=function(e){f&&f(),e&&(m.current=!0,h(e))};b.current?e():H(n.current,l,d,e)}else p&&p(),m.current&&(m.current=!1,h(u))}),[n,o,p,f,u,d,l]);var x=Math.min(g,c*i);return{menuStyleTop:O?function(e,t,n){var r=e>0||!t?e:t.getBoundingClientRect().height,o=n?n.getBoundingClientRect().height:0,a=t&&getComputedStyle(t),i=a?parseInt(a.marginBottom||"0",10):0,u=a?parseInt(a.marginTop||"0",10):0;return"calc(".concat(-Math.abs(r+o),"px + ").concat(i+u,"px)")}(x,n.current,r.current):void 0,menuHeightCalc:x}};function he(){var e=f(["border:0;outline:0;padding:0;cursor:text;background:0;color:inherit;font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:content-box;:read-only{opacity:0;cursor:default;}:required{","}"," ",""]);return he=function(){return e},e}function ye(){var e=f(["top:0;left:0;height:0;overflow:scroll;white-space:pre;position:absolute;visibility:hidden;font-size:inherit;font-weight:inherit;font-family:inherit;",""]);return ye=function(){return e},e}var Oe=i.default.div(ye(),(function(e){return e.theme.input.css})),we=i.default.input(he(),(function(e){var t=e.theme;return e.isInvalid&&t.input.cssRequired}),(function(e){return e.theme.input.css}),"undefined"!=typeof navigator&&T.test(navigator.userAgent)&&"::-ms-clear{display:none;}"),xe=a.default.memo(a.default.forwardRef((function(e,n){var r=e.id,o=e.onBlur,i=e.onFocus,u=e.readOnly,c=e.required,l=e.onChange,d=e.ariaLabel,f=e.inputValue,p=e.addClassNames,m=e.ariaLabelledBy,b=e.selectedOption,v=t.useRef(null),g=s(t.useState(2),2),h=g[0],y=g[1];ve((function(){v.current&&y(v.current.scrollWidth+2)}),[f]);var O=c&&!V(b),w={isInvalid:O,tabIndex:-1,type:"text",spellCheck:!1,autoCorrect:"off",autoComplete:"off",autoCapitalize:"none","aria-label":d,"aria-autocomplete":"list","aria-labelledby":m,"data-testid":undefined,style:{width:h}};return a.default.createElement(t.Fragment,null,a.default.createElement(we,Object.assign({id:r,ref:n,onBlur:o,onFocus:i,value:f,readOnly:u,required:O},w,{onChange:u?void 0:l,className:p?"rfs-autosize-input":void 0})),a.default.createElement(Oe,{ref:v},f))})));function Se(){var e=f(["",""]);return Se=function(){return e},e}function Ee(){var e=f(["display:flex;align-self:center;text-align:center;margin-right:0.25rem;padding:",";> div{border-radius:100%;display:inline-block;animation:",";",":nth-of-type(1){animation-delay:-0.272s;}:nth-of-type(2){animation-delay:-0.136s;}}"]);return Ee=function(){return e},e}xe.displayName="AutosizeInput";var Ce=i.default.div(Ee(),(function(e){return e.theme.loader.padding}),(function(e){var t=e.theme;return n.css(Se(),t.loader.animation)}),(function(e){var t=e.theme.loader;return"width: ".concat(t.size,";height: ").concat(t.size,";background-color: ").concat(t.color,";")})),Ie=function(e){var t=e.addClassNames;return a.default.createElement(Ce,{"aria-hidden":"true",className:t?"rfs-loading-dots":void 0},a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null))};function Me(){var e=f(["width:1px;margin:0.5rem 0;align-self:stretch;box-sizing:border-box;background-color:",";"]);return Me=function(){return e},e}function ke(){var e=f([""," ",""]);return ke=function(){return e},e}function Te(){var e=f(["",""]);return Te=function(){return e},e}function De(){var e=f(["fill:currentColor;animation:",";",""]);return De=function(){return e},e}function je(){var e=f(["height:100%;display:flex;align-items:center;box-sizing:border-box;"," ",""]);return je=function(){return e},e}function Pe(){var e=f(["display:flex;flex-shrink:0;align-items:center;align-self:stretch;box-sizing:border-box;"]);return Pe=function(){return e},e}var Re=i.default.div(Pe()),ze=i.default.div(je(),(function(e){var t=e.theme.icon;return"color: ".concat(t.color,";padding: ").concat(t.padding,";:hover {color: ").concat(t.hoverColor,";}")}),(function(e){return e.theme.icon.css})),Ae=i.default.svg(De(),(function(e){var t=e.theme;return n.css(Te(),t.icon.clear.animation)}),(function(e){var t=e.theme.icon.clear;return"width: ".concat(t.width,";height: ").concat(t.height,";transition: ").concat(t.transition,";")})),Ne=i.default.div(ke(),(function(e){var t=e.theme.icon.caret;return"transition: ".concat(t.transition,";border-top: ").concat(t.size," dashed;border-left: ").concat(t.size," solid transparent;border-right: ").concat(t.size," solid transparent;")}),(function(e){var t=e.menuOpen,n=e.isInvalid,r=e.theme.color;return t&&"transform: rotate(180deg);color: ".concat(n?r.danger:r.caretActive||r.primary,";")})),Le=i.default.div(Me(),(function(e){var t=e.theme;return t.color.iconSeparator||t.color.border})),Fe=a.default.memo((function(e){var t=e.menuOpen,n=e.clearIcon,r=e.caretIcon,o=e.isInvalid,i=e.showClear,u=e.isLoading,c=e.isDisabled,l=e.loadingNode,d=e.addClassNames,s=e.onCaretMouseDown,f=e.onClearMouseDown,p="function"==typeof r||"function"==typeof n?{menuOpen:t,isLoading:!!u,isInvalid:!!o,isDisabled:!!c}:void 0,m=function(e){return"function"==typeof e?e(p):e};return a.default.createElement(Re,null,i&&!u&&a.default.createElement(ze,{onTouchEnd:f,onMouseDown:f,"data-testid":undefined},m(n)||a.default.createElement(Ae,{"aria-hidden":"true",viewBox:"0 0 14 16",className:d?"rfs-clear-icon":void 0},a.default.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"}))),u&&(l||a.default.createElement(Ie,{addClassNames:d})),a.default.createElement(Le,null),a.default.createElement(ze,{onTouchEnd:s,onMouseDown:s,"data-testid":undefined},m(r)||a.default.createElement(Ne,{"aria-hidden":"true",menuOpen:t,isInvalid:o,className:d?"rfs-caret-icon":void 0})))}));function Be(){var e=f(["border:0;padding:0;width:1px;height:1px;margin:-1px;overflow:hidden;position:absolute;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%);"]);return Be=function(){return e},e}Fe.displayName="IndicatorIcons";var Ve=i.default.span(Be()),Ue=function(e){var t=e.menuOpen,n=e.isFocused,r=e.ariaLabel,o=e.inputValue,i=e.optionCount,u=e.isSearchable,c=e.focusedOption,l=e.selectedOption;if(!n)return null;var d=c.value,s=c.label,f=c.index,p=c.isDisabled,m=V(l)?l.map((function(e){return e.label})).join(" "):"N/A",b="".concat(i," result(s) available").concat(o?" for search input ".concat(o):"","."),v=d?"Focused option: ".concat(s).concat(p?" - disabled":"",", ").concat(f+1," of ").concat(i,"."):"",g=t?"Use Up and Down arrow keys to choose options, press Enter or Tab to select the currently focused option, press Escape to close the menu.":"".concat(r||"Select"," is focused").concat(u?", type to filter options":"",", press Down arrow key to open the menu."),h="Selected option: ".concat(m),y="".concat(v," ").concat(b," ").concat(g);return a.default.createElement(Ve,{"aria-live":"polite","data-testid":undefined},a.default.createElement("span",null," ",h),a.default.createElement("span",null," ",y))};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(){var e=f(["",""]);return He=function(){return e},e}function Ke(){var e=f(["z-index:999;cursor:default;position:absolute;"," animation:",";"," .","{display:block;overflow:hidden;user-select:none;white-space:nowrap;text-overflow:ellipsis;-webkit-tap-highlight-color:transparent;","}"]);return Ke=function(){return e},e}function Ye(){var e=f(["outline:0;display:flex;flex-wrap:wrap;cursor:default;position:relative;align-items:center;box-sizing:border-box;justify-content:space-between;"," "," ",""]);return Ye=function(){return e},e}function Xe(){var e=f(["flex:1 1 0%;display:flex;flex-wrap:wrap;overflow:hidden;position:relative;align-items:center;box-sizing:border-box;padding:",";"]);return Xe=function(){return e},e}function _e(){var e=f(["position:relative;box-sizing:border-box;",""]);return _e=function(){return e},e}var $e=i.default.div(_e(),(function(e){return e.theme.select.css})),Ge=i.default.div(Xe(),(function(e){return e.theme.control.padding})),Je=i.default.div(Ye(),(function(e){var t=e.isDisabled,n=e.isFocused,r=e.isInvalid,o=e.theme,a=o.control,i=o.color;return"transition: ".concat(a.transition,";border-style: ").concat(a.borderStyle,";border-width: ").concat(a.borderWidth,";border-radius: ").concat(a.borderRadius,";min-height: ").concat(a.height||a.minHeight,";border-color: ").concat(r?i.danger:n?a.focusedBorderColor:i.border,";").concat(t?"pointer-events: none;":"","").concat(a.height?"height: ".concat(a.height,";"):"","").concat(a.backgroundColor||t?"background-color: ".concat(t?i.disabled:a.backgroundColor,";"):"","").concat(n?"box-shadow: ".concat(a.boxShadow," ").concat(r?i.dangerLight:a.boxShadowColor,";"):"","")}),(function(e){return e.theme.control.css}),(function(e){var t=e.isFocused,n=e.theme;return t&&n.control.focusedCss})),Qe=i.default.div(Ke(),(function(e){var t=e.menuTop,n=e.hideMenu,r=e.theme.menu;return"width: ".concat(r.width,";margin: ").concat(r.margin,";padding: ").concat(r.padding,";box-shadow: ").concat(r.boxShadow,";border-radius: ").concat(r.borderRadius,";background-color: ").concat(r.backgroundColor,";").concat(n?"display: none;":"","").concat(t?"top: ".concat(t,";"):"","")}),(function(e){var t=e.theme;return n.css(He(),t.menu.animation)}),(function(e){return e.theme.menu.css}),D,(function(e){var t=e.theme.menu.option;return"padding: ".concat(t.padding,";text-align: ").concat(t.textAlign,";&.").concat(j,",&:hover:not(.").concat(R,"):not(.").concat(P,") {background-color: ").concat(t.focusedBgColor,";}&.").concat(P," {color: ").concat(t.selectedColor,";background-color: ").concat(t.selectedBgColor,";}&.").concat(R," {opacity: 0.35;}")})),Ze=a.default.forwardRef((function(r,o){var i=r.async,u=r.isMulti,c=r.inputId,d=r.selectId,f=r.required,p=r.autoFocus,m=r.isLoading,b=r.onKeyDown,v=r.clearIcon,g=r.caretIcon,h=r.isInvalid,y=r.ariaLabel,O=r.menuWidth,x=r.isDisabled,M=r.inputDelay,k=r.onMenuOpen,T=r.onMenuClose,D=r.onInputBlur,j=r.isClearable,P=r.themeConfig,R=r.loadingNode,z=r.initialValue,A=r.onInputFocus,N=r.onInputChange,L=r.addClassNames,F=r.ariaLabelledBy,B=r.onOptionChange,q=r.onSearchChange,H=r.getOptionLabel,Y=r.getOptionValue,X=r.itemKeySelector,_=r.openMenuOnFocus,G=r.isAriaLiveEnabled,J=r.menuOverscanCount,Q=r.blurInputOnSelect,Z=r.renderOptionLabel,ee=r.renderMultiOptions,te=r.menuScrollDuration,ne=r.filterIgnoreAccents,re=r.hideSelectedOptions,oe=r.getIsOptionDisabled,ae=r.getFilterOptionString,ie=r.isSearchable,ue=void 0===ie||ie,le=r.openMenuOnClick,de=void 0===le||le,pe=r.filterIgnoreCase,me=void 0===pe||pe,he=r.tabSelectsOption,ye=void 0===he||he,Oe=r.closeMenuOnSelect,we=void 0===Oe||Oe,Se=r.scrollMenuIntoView,Ee=void 0===Se||Se,Ce=r.backspaceClearsValue,Ie=void 0===Ce||Ce,Me=r.filterMatchFrom,ke=void 0===Me?e.FilterMatchEnum.ANY:Me,Te=r.menuPosition,De=void 0===Te?e.MenuPositionEnum.BOTTOM:Te,je=r.options,Pe=void 0===je?E:je,Re=r.loadingMsg,ze=void 0===Re?"Loading...":Re,Ae=r.placeholder,Ne=void 0===Ae?"Select option...":Ae,Le=r.noOptionsMsg,Be=void 0===Le?"No options":Le,Ve=r.menuItemSize,qe=void 0===Ve?35:Ve,He=r.menuMaxHeight,Ke=void 0===He?300:He,Ye=t.useRef(!1),Xe=t.useRef(),_e=t.useRef(!1),Ze=t.useRef(null),et=t.useRef(null),tt=t.useRef(null),nt=t.useRef(null),rt=s(t.useState(""),2),ot=rt[0],at=rt[1],it=s(t.useState(!1),2),ut=it[0],ct=it[1],lt=s(t.useState(!1),2),dt=lt[0],st=lt[1],ft=s(t.useState(I),2),pt=ft[0],mt=ft[1],bt=s(t.useState(S),2),vt=bt[0],gt=bt[1],ht=t.useMemo((function(){return U(P)?W(w,P):w}),[P]),yt=t.useMemo((function(){return H||function(e){return e.label}}),[H]),Ot=t.useMemo((function(){return Y||function(e){return e.value}}),[Y]),wt=t.useMemo((function(){return Z||yt}),[Z,yt]),xt=function(e,n){var r=s(t.useState(e),2),o=r[0],a=r[1];return t.useEffect((function(){if(void 0!==n){var t=setTimeout((function(){a(e)}),n);return function(){clearTimeout(t)}}}),[e,n]),void 0===n?e:o}(ot,M),St=s(t.useState((function(){return K(z,Ot,yt)})),2),Et=St[0],Ct=St[1],It=be(Pe,xt,ke,Et,Ot,yt,oe,ae,me,ne,u,re,i),Mt=ge(et,nt,ut,De,qe,Ke,It.length,te,Ee,k,T),kt=Mt.menuStyleTop,Tt=Mt.menuHeightCalc,Dt=function(){tt.current&&tt.current.blur()},jt=function(){tt.current&&tt.current.focus()},Pt=function(e){Ze.current&&Ze.current.scrollToItem(e)},Rt=t.useCallback((function(e,t){t&&(t.stopPropagation(),"mousedown"===t.type&&t.preventDefault()),Ct((function(t){return t.filter((function(t){return t.value!==e}))}))}),[]),zt=t.useCallback((function(e){if(V(It)){var t=u?-1:It.findIndex((function(e){return e.isSelected})),n=t>-1?t:e===fe.FIRST?0:It.length-1;ct(!0),mt(We({index:n},It[n])),Pt(n)}else ct(!0)}),[u,It]),At=t.useCallback((function(e,t){t?u&&Rt(e.value):Ct((function(t){return u?[].concat(l(t),[e]):[e]})),("boolean"==typeof Q?Q:"undefined"!=typeof window&&"ontouchstart"in window||"undefined"!=typeof navigator&&!!navigator.maxTouchPoints)?Dt():we&&(ct(!1),at(""))}),[u,we,Rt,Q]);t.useImperativeHandle(o,(function(){return{blur:Dt,focus:jt,clearValue:function(){Ct(C),mt(I)},setValue:function(e){var t=K(e,Ot,yt);Ct(t)},toggleMenu:function(e){!0===e||void 0===e&&!ut?(!dt&&jt(),zt(fe.FIRST)):Dt()}}})),t.useEffect((function(){p&&jt()}),[p]),t.useEffect((function(){Ye.current=ut}),[ut]),t.useEffect((function(){dt&&_&&zt(fe.FIRST)}),[dt,_,zt]),t.useEffect((function(){q&&_e.current&&(_e.current=!1,q(xt))}),[q,xt]),ve((function(){if(B){var e=u?Et.map((function(e){return e.data})):V(Et)?Et[0].data:null;B(e)}}),[u,Et,B]),ve((function(){var e=It.length,t=e>0&&(i||e!==Pe.length||0===Xe.current);0===e?mt(I):(1===e||t)&&(mt(We({index:0},It[0])),Pt(0)),Xe.current=e}),[i,Pe,It]);var Nt=function(){var e=pt.data,t=pt.value,n=pt.label,r=pt.isSelected,o=pt.isDisabled;e&&!o&&At({data:e,value:t,label:n},r)},Lt=function(e){if(V(Et)){var t=-1,n=Et.length-1,r=vt?Et.findIndex((function(e){return e.value===vt})):-1;switch(e){case se.NEXT:t=r>-1&&r<n?r+1:-1;break;case se.PREVIOUS:t=0!==r?-1===r?n:r-1:0}var o=t>=0?Et[t].value:S;pt.data&&mt(I),o!==vt&&gt(o)}},Ft=function(e){if(V(It)){var t=e===fe.DOWN?(pt.index+1)%It.length:pt.index>0?pt.index-1:It.length-1;vt&&gt(S),mt(We({index:t},It[t])),Pt(t)}},Bt=function(e){x||(dt||jt(),ut?"INPUT"!==e.currentTarget.tagName&&(ct(!1),ot&&at("")):de&&zt(fe.FIRST),"INPUT"!==e.currentTarget.tagName&&e.preventDefault())},Vt=t.useCallback((function(e){D&&D(e),st(!1),ct(!1),at("")}),[D]),Ut=t.useCallback((function(e){A&&A(e),st(!0)}),[A]),qt=t.useCallback((function(e){_e.current=!0,N&&N(e.currentTarget.value||""),!Ye.current&&ct(!0),at(e.currentTarget.value||"")}),[N]),Wt=t.useCallback((function(e){e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),Ct(C),jt()}),[]),Ht=t.useCallback((function(e){e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),jt(),ut?ct(!1):zt(fe.FIRST)}),[ut,zt]);return a.default.createElement(n.ThemeProvider,{theme:ht},a.default.createElement($e,{id:d,role:"combobox","aria-haspopup":"listbox","aria-controls":c,onKeyDown:function(e){if(!(x||b&&(b(e,ot,pt),e.defaultPrevented))){switch(e.key){case"ArrowDown":ut?Ft(fe.DOWN):zt(fe.FIRST);break;case"ArrowUp":ut?Ft(fe.UP):zt(fe.LAST);break;case"ArrowLeft":if(!u||ot||ee)return;Lt(se.PREVIOUS);break;case"ArrowRight":if(!u||ot||ee)return;Lt(se.NEXT);break;case" ":if(ot)return;if(!ut){zt(fe.FIRST);break}if(!pt.data)return;Nt();break;case"Enter":ut&&229!==e.keyCode&&Nt();break;case"Escape":ut&&(ct(!1),at(""));break;case"Tab":if(!ut||!ye||!pt.data||e.shiftKey)return;Nt();break;case"Delete":case"Backspace":if(ot)return;if(vt){var t=Et.findIndex((function(e){return e.value===vt})),n=t>-1&&t<Et.length-1?Et[t+1].value:S;Rt(vt),gt(n)}else{if(!Ie)return;if(V(Et))if(u&&!ee){var r=Et[Et.length-1].value;Rt(r)}else j&&Ct(C)}break;default:return}e.preventDefault()}},"data-testid":undefined,"aria-expanded":ut?"true":"false",className:L?"rfs-select-container":void 0},a.default.createElement(Je,{ref:nt,isInvalid:h,isFocused:dt,isDisabled:x,onTouchEnd:Bt,onMouseDown:Bt,"data-testid":undefined,className:L?"rfs-control-container":void 0},a.default.createElement(Ge,null,a.default.createElement(ce,{isMulti:u,inputValue:ot,placeholder:Ne,selectedOption:Et,focusedMultiValue:vt,renderOptionLabel:wt,renderMultiOptions:ee,removeSelectedOption:Rt}),a.default.createElement(xe,{id:c,ref:tt,required:f,ariaLabel:y,inputValue:ot,onBlur:Vt,onFocus:Ut,addClassNames:L,onChange:qt,ariaLabelledBy:F,selectedOption:Et,readOnly:x||!ue||!!vt})),a.default.createElement(Fe,{menuOpen:ut,clearIcon:v,caretIcon:g,isInvalid:h,isLoading:m,isDisabled:x,loadingNode:R,addClassNames:L,onClearMouseDown:Wt,showClear:!(!j||x||!V(Et)),onCaretMouseDown:x||de?void 0:Ht})),a.default.createElement(Qe,{ref:et,hideMenu:!ut,menuTop:kt,onMouseDown:function(e){e.stopPropagation(),e.preventDefault(),jt()},"data-testid":undefined,className:L?"rfs-menu-container":void 0},a.default.createElement($,{ref:Ze,isLoading:m,height:Tt,itemSize:qe,loadingMsg:ze,menuOptions:It,noOptionsMsg:Be,selectOption:At,itemKeySelector:X,overscanCount:J,width:O||ht.menu.width,renderOptionLabel:wt,focusedOptionIndex:pt.index})),G&&a.default.createElement(Ue,{menuOpen:ut,isFocused:dt,ariaLabel:y,inputValue:ot,isSearchable:ue,focusedOption:pt,selectedOption:Et,optionCount:It.length})))}));Ze.displayName="Select",e.Select=Ze,Object.defineProperty(e,"__esModule",{value:!0})}));
