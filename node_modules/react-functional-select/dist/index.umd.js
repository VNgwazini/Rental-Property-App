!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("styled-components"),require("react-window")):"function"==typeof define&&define.amd?define(["exports","react","styled-components","react-window"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactFunctionalSelect={},e.React,e.styled,e.ReactWindow)}(this,(function(e,t,n,o){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(t),a=r(n);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n.keyframes(["0%,80%,100%{transform:scale(0);}40%{transform:scale(1.0);}"]),d=n.keyframes(["from{opacity:0;}to{opacity:1;}"]),c=n.css([""," 1.19s ease-in-out infinite"],s),u=n.css([""," 0.225s ease-in-out forwards"],d),p=n.css(["top:50%;overflow:hidden;position:absolute;white-space:nowrap;box-sizing:border-box;text-overflow:ellipsis;transform:translateY(-50%);"]),f={color:{border:"#ced4da",danger:"#dc3545",primary:"#007bff",disabled:"#e9ecef",placeholder:"#6E7276",dangerLight:"rgba(220, 53, 69, 0.25)"},input:{},select:{},loader:{size:"0.625rem",padding:"0.375rem 0.75rem",animation:c,color:"rgba(0, 123, 255, 0.42)"},icon:{color:"#ccc",hoverColor:"#A6A6A6",padding:"0 0.9375rem",clear:{width:"14px",height:"16px",animation:u,transition:"color 0.15s ease-in-out"},caret:{size:"7px",transition:"transform 0.25s ease-in-out, color 0.15s ease-in-out"}},control:{minHeight:"38px",borderWidth:"1px",borderStyle:"solid",borderRadius:"0.25rem",boxShadow:"0 0 0 0.2rem",padding:"0.375rem 0.75rem",boxShadowColor:"rgba(0, 123, 255, 0.25)",focusedBorderColor:"rgba(0, 123, 255, 0.75)",transition:"box-shadow 0.15s ease-in-out, border-color 0.15s ease-in-out"},menu:{padding:"0",width:"100%",margin:"0.5rem 0",borderRadius:"0.25rem",backgroundColor:"#fff",animation:u,boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1), 0 4px 11px rgba(0, 0, 0, 0.1)",option:{textAlign:"left",selectedColor:"#fff",selectedBgColor:"#007bff",padding:"0.375rem 0.75rem",focusedBgColor:"rgba(0, 123, 255, 0.20)"}},noOptions:{fontSize:"1.25rem",margin:"0.25rem 0",color:"hsl(0, 0%, 60%)",padding:"0.375rem 0.75rem"},multiValue:{margin:"1px 2px",borderRadius:"0.25rem",backgroundColor:"#e7edf3",animation:u,label:{fontSize:"0.825em",borderRadius:"0.25rem",padding:"1px 2px 1px 6px"},clear:{fontWeight:700,padding:"0 7px",fontSize:"0.67em",alignItems:"center",borderRadius:"0.25rem",transition:"color 0.15s ease-in-out, background-color 0.15s ease-in-out"}}},m={index:-1},g=null,h=[],b=/[\u0300-\u036f]/g,v=/(MSIE|Trident\/|Edge\/|Edg\/)/i,y="rfs-option",w="rfs-option-focused",O="rfs-option-selected",x="rfs-option-disabled";function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){return Array.isArray(e)&&!!e.length}function S(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function I(e,t,n){let o=e.trim();return t&&(o=o.toLowerCase()),n?function(e){return e.normalize("NFD").replace(b,"")}(o):o}function k(e,t,n){const o=Array.isArray(e)?e:S(e)?[e]:h;return E(o)?o.map((e=>({data:e,value:t(e),label:n(e)}))):o}const N=(e,t)=>{const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).forEach((o=>{const r=t[o];n[o]=S(r)&&"animation"!==o?o in e?N(e[o],r):r:r||""})),n};function M(e){return D(e)?window.pageYOffset:e.scrollTop}function D(e){return e===document.documentElement||e===document.body||e===window}function R(e){const{overflow:t,overflowX:n,overflowY:o}=e,r=e=>"auto"===e||"scroll"===e;return r(t)||r(n)||r(o)}function T(e){let t=getComputedStyle(e);const n="absolute"===t.position;if("fixed"===t.position)return document.documentElement;for(let o=e;o=o?o.parentElement:null;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&R(t))return o;return document.documentElement}const P=(e,t,n=300,o)=>{let r=0;const i=M(e),a=t-i,l=()=>{var t;r+=5,function(e,t){D(e)?window.scrollTo(0,t):e.scrollTop=t}(e,a*((t=(t=r)/n-1)*t*t+1)+i),r<n?window.requestAnimationFrame(l):null==o||o()};window.requestAnimationFrame(l)},j=t.memo((({index:e,style:t,data:{menuOptions:n,selectOption:o,renderOptionLabel:r,focusedOptionIndex:a}})=>{const{data:l,value:s,label:d,isDisabled:c,isSelected:u}=n[e],p=function(e,t,n){let o=y;return e&&(o+=" rfs-option-disabled"),t&&(o+=" rfs-option-selected"),n&&(o+=" rfs-option-focused"),o}(c,u,e===a),f=c?void 0:()=>o({data:l,value:s,label:d},u);return i.default.createElement("div",{style:t,onClick:f,className:p},r(l))}),o.areEqual);j.displayName="Option";const z=a.default.div.withConfig({displayName:"NoOptionsMsg",componentId:"sc-1iuktah-0"})(["text-align:center;color:",";margin:",";padding:",";font-size:",";",""],(({theme:e})=>e.noOptions.color),(({theme:e})=>e.noOptions.margin),(({theme:e})=>e.noOptions.padding),(({theme:e})=>e.noOptions.fontSize),(({theme:e})=>e.noOptions.css)),L=t.forwardRef((({width:e,height:n,itemSize:r,isLoading:a,loadingMsg:l,menuOptions:s,selectOption:d,noOptionsMsg:c,overscanCount:u,itemKeySelector:p,renderOptionLabel:f,focusedOptionIndex:m},g)=>{const h=t.useMemo((()=>p?(e,t)=>t.menuOptions[e][p]:void 0),[p]),b=t.useMemo((()=>({menuOptions:s,selectOption:d,renderOptionLabel:f,focusedOptionIndex:m})),[s,m,d,f]);return a?i.default.createElement(z,null,l):i.default.createElement(t.Fragment,null,i.default.createElement(o.FixedSizeList,{ref:g,width:e,height:n,itemKey:h,itemSize:r,itemData:b,overscanCount:u,itemCount:s.length},j),!E(s)&&i.default.createElement(z,null,c))}));L.displayName="Menu";const F=a.default.div.withConfig({displayName:"MultiValueWrapper",componentId:"sc-5mvzot-0"})(["min-width:0;display:flex;"," ",""],(({theme:{multiValue:e}})=>n.css(["margin:",";animation:",";border-radius:",";background-color:",";"],e.margin,e.animation,e.borderRadius,e.backgroundColor)),(({theme:e})=>e.multiValue.css)),A=a.default.div.withConfig({displayName:"Label",componentId:"sc-5mvzot-1"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:",";font-size:",";border-radius:",";"],(({theme:e})=>e.multiValue.label.padding),(({theme:e})=>e.multiValue.label.fontSize),(({theme:e})=>e.multiValue.label.borderRadius)),V=a.default.div.withConfig({displayName:"Clear",componentId:"sc-5mvzot-2"})(["display:flex;",""],(({isFocused:e,theme:{color:t,multiValue:{clear:o}}})=>n.css(["padding:",";font-size:",";transition:",";align-items:",";font-weight:",";border-radius:",";background-color:",";:hover{color:",";background-color:",";}"],o.padding,o.fontSize,o.transition,o.alignItems,o.fontWeight,o.borderRadius,e?t.dangerLight:"transparent",t.danger,t.dangerLight))),B=({data:e,value:t,isFocused:n,renderOptionLabel:o,removeSelectedOption:r})=>i.default.createElement(F,null,i.default.createElement(A,null,o(e)),i.default.createElement(V,{isFocused:n,"data-testid":undefined,onTouchEnd:e=>r(t,e),onMouseDown:e=>r(t,e)},"X")),$=a.default.div.withConfig({displayName:"SingleValue",componentId:"sc-1137-0"})([""," max-width:calc(100% - 0.5rem);"],p),W=a.default.div.withConfig({displayName:"Placeholder",componentId:"sc-1137-1"})([""," color:",";"],p,(({theme:e})=>e.color.placeholder)),q=t.memo((({isMulti:e,inputValue:n,placeholder:o,selectedOption:r,focusedMultiValue:a,renderOptionLabel:l,renderMultiOptions:s,removeSelectedOption:d})=>!n||e&&(!e||E(r)&&!s)?E(r)?e?i.default.createElement(t.Fragment,null,s?s({selected:r,renderOptionLabel:l}):r.map((({data:e,value:t})=>i.default.createElement(B,{key:t,data:e,value:t,renderOptionLabel:l,isFocused:t===a,removeSelectedOption:d})))):i.default.createElement($,null,l(r[0].data)):i.default.createElement(W,null,o):null));q.displayName="Value";var U,K,Y,H;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(U=e.MenuPositionEnum||(e.MenuPositionEnum={})).TOP="top",U.AUTO="auto",U.BOTTOM="bottom",(K=e.FilterMatchEnum||(e.FilterMatchEnum={})).ANY="any",K.START="start",function(e){e.NEXT="next",e.PREVIOUS="prev"}(Y||(Y={})),function(e){e.UP="up",e.DOWN="down",e.LAST="last",e.FIRST="first"}(H||(H={}));const G=(n,o,r,i,a,l,s,d,c,u,p,f,m)=>{const[g,b]=t.useState(h),v=m?"":o,y="boolean"!=typeof f?!!p:f;return t.useEffect((()=>{const t=I(v,c,u),o=i.length?new Set(i.map((e=>e.value))):void 0,p=s||(e=>!!e.isDisabled),f=d||(e=>"string"==typeof e.label?e.label:`${e.label}`),m=n=>{const i=a(n),s=_(_({data:n,value:i,label:l(n)},p(n)&&{isDisabled:!0}),(null==o?void 0:o.has(i))&&{isSelected:!0});if(!(t&&!(n=>{const o=I(f(n),c,u);return r===e.FilterMatchEnum.ANY?o.indexOf(t)>-1:o.substr(0,t.length)===t})(s)||y&&s.isSelected))return s},g=[];for(let e=0;e<n.length;e++){const t=m(n[e]);t&&g.push(t)}b(g)}),[n,i,v,y,r,c,u,d,s,a,l]),g},J=(e,n)=>{const o=t.useRef(!0);t.useEffect((()=>{if(!o.current)return e();o.current=!1}),n)},Q=(n,o,r,i,a,l,s,d,c,u,p)=>{const f=t.useRef(!1),m=t.useRef(!1),[g,h]=t.useState(l),[b,v]=t.useState(i===e.MenuPositionEnum.TOP);t.useEffect((()=>{m.current=b}),[b]),t.useEffect((()=>{const t=i===e.MenuPositionEnum.TOP||i===e.MenuPositionEnum.AUTO&&!(e=>{if(!e)return!0;const t=T(e),{top:n,height:o}=e.getBoundingClientRect();return t.getBoundingClientRect().height-M(t)-n>=o})(n.current);v(t)}),[n,i]),J((()=>{if(r){const e=e=>{null==u||u(),e&&(f.current=!0,h(e))};m.current?e():((e,t,n,o)=>{if(!e)return void o();const{top:r,height:i,bottom:a}=e.getBoundingClientRect(),l=window.innerHeight;if(l-r>=i)return void o();const s=T(e),d=M(s),c=s.getBoundingClientRect().height-d-r,u=c<i;if(u||!n)return void o(u?c:void 0);const p=parseInt(getComputedStyle(e).marginBottom,10);P(s,a-l+d+p,t,o)})(n.current,d,c,e)}else null==p||p(),f.current&&(f.current=!1,h(l))}),[n,r,p,u,l,c,d]);const y=Math.min(g,s*a);return[b?((e,t,n)=>{const o=e>0||!t?e:t.getBoundingClientRect().height,r=n?n.getBoundingClientRect().height:0,i=t&&getComputedStyle(t),a=i?parseInt(i.marginBottom,10):0,l=i?parseInt(i.marginTop,10):0;return"calc("+-Math.abs(o+r)+"px"+(a+l)+"px)"})(y,n.current,o.current):void 0,y]},Z=a.default.div.withConfig({displayName:"SizerDiv",componentId:"sc-1ivcalt-0"})(["top:0;left:0;height:0;overflow:scroll;white-space:pre;position:absolute;visibility:hidden;font-size:inherit;font-weight:inherit;font-family:inherit;",""],(({theme:e})=>e.input.css)),ee=a.default.input.withConfig({displayName:"Input",componentId:"sc-1ivcalt-1"})(["border:0;outline:0;padding:0;cursor:text;background:0;color:inherit;font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:content-box;:read-only{opacity:0;cursor:default;}:required{","}"," ",""],(({theme:e,isInvalid:t})=>t&&e.input.cssRequired),(({theme:e})=>e.input.css),"undefined"!=typeof navigator&&v.test(navigator.userAgent)&&"::-ms-clear{display:none;}"),te=t.memo(t.forwardRef((({id:e,onBlur:n,onFocus:o,readOnly:r,required:a,onChange:l,ariaLabel:s,inputValue:d,addClassNames:c,ariaLabelledBy:u,selectedOption:p},f)=>{const m=t.useRef(null),[g,h]=t.useState(2),b=a&&!E(p),v={isInvalid:b,tabIndex:0,type:"text",spellCheck:!1,autoCorrect:"off",autoComplete:"off",autoCapitalize:"none","aria-label":s,"aria-autocomplete":"list","aria-labelledby":u,"data-testid":undefined,style:{width:g}};return J((()=>{m.current&&h(m.current.scrollWidth+2)}),[d]),i.default.createElement(t.Fragment,null,i.default.createElement(ee,Object.assign({id:e,ref:f,onBlur:n,onFocus:o,value:d,readOnly:r,required:b},v,{onChange:r?void 0:l,className:c?"rfs-autosize-input":void 0})),i.default.createElement(Z,{ref:m},d))})));te.displayName="AutosizeInput";const ne=a.default.div.withConfig({displayName:"StyledLoadingDots",componentId:"d2zqaw-0"})(["display:flex;align-self:center;text-align:center;margin-right:0.25rem;padding:",";> div{border-radius:100%;display:inline-block;",":nth-of-type(1){animation-delay:-0.272s;}:nth-of-type(2){animation-delay:-0.136s;}}"],(({theme:e})=>e.loader.padding),(({theme:{loader:e}})=>n.css(["width:",";height:",";background-color:",";animation:",";"],e.size,e.size,e.color,e.animation))),oe=({addClassNames:e})=>i.default.createElement(ne,{"aria-hidden":"true",className:e?"rfs-loading-dots":void 0},i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null)),re=a.default.div.withConfig({displayName:"IndicatorIconsWrapper",componentId:"sc-1r9uxct-0"})(["display:flex;flex-shrink:0;align-items:center;align-self:stretch;box-sizing:border-box;"]),ie=a.default.div.withConfig({displayName:"IndicatorIcon",componentId:"sc-1r9uxct-1"})(["height:100%;display:flex;align-items:center;box-sizing:border-box;color:",";padding:",";:hover{color:",";}",""],(({theme:e})=>e.icon.color),(({theme:e})=>e.icon.padding),(({theme:e})=>e.icon.hoverColor),(({theme:e})=>e.icon.css)),ae=a.default.svg.withConfig({displayName:"ClearSvg",componentId:"sc-1r9uxct-2"})(["fill:currentColor;",""],(({theme:{icon:{clear:e}}})=>n.css(["width:",";height:",";animation:",";transition:",";"],e.width,e.height,e.animation,e.transition))),le=a.default.div.withConfig({displayName:"Caret",componentId:"sc-1r9uxct-3"})(["transition:",";border-top:"," dashed;border-left:"," solid transparent;border-right:"," solid transparent;",""],(({theme:e})=>e.icon.caret.transition),(({theme:e})=>e.icon.caret.size),(({theme:e})=>e.icon.caret.size),(({theme:e})=>e.icon.caret.size),(({menuOpen:e,isInvalid:t,theme:{color:o}})=>e&&n.css(["transform:rotate(180deg);color:",";"],t?o.danger:o.caretActive||o.primary))),se=a.default.div.withConfig({displayName:"Separator",componentId:"sc-1r9uxct-4"})(["width:1px;margin:0.5rem 0;align-self:stretch;box-sizing:border-box;background-color:",";"],(({theme:e})=>e.color.iconSeparator||e.color.border)),de=({addClassNames:e})=>i.default.createElement(ae,{"aria-hidden":"true",viewBox:"0 0 14 16",className:e?"rfs-clear-icon":void 0},i.default.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})),ce=t.memo((({menuOpen:e,clearIcon:t,caretIcon:n,isInvalid:o,showClear:r,isLoading:a,isDisabled:l,loadingNode:s,addClassNames:d,onCaretMouseDown:c,onClearMouseDown:u})=>{const p="function"==typeof n||"function"==typeof t?{menuOpen:e,isLoading:!!a,isInvalid:!!o,isDisabled:!!l}:void 0,f=e=>"function"==typeof e?e(p):e;return i.default.createElement(re,null,r&&!a&&i.default.createElement(ie,{onTouchEnd:u,onMouseDown:u,"data-testid":undefined},f(t)||i.default.createElement(de,{addClassNames:d})),a&&(s||i.default.createElement(oe,{addClassNames:d})),i.default.createElement(se,null),i.default.createElement(ie,{onTouchEnd:c,onMouseDown:c,"data-testid":undefined},f(n)||i.default.createElement(le,{"aria-hidden":"true",menuOpen:e,isInvalid:o,className:d?"rfs-caret-icon":void 0})))}));ce.displayName="IndicatorIcons";const ue=a.default.span.withConfig({displayName:"A11yText",componentId:"sc-4snj8z-0"})(["border:0;padding:0;width:1px;height:1px;margin:-1px;overflow:hidden;position:absolute;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%);"]),pe=({menuOpen:e,isFocused:t,ariaLabel:n,inputValue:o,optionCount:r,isSearchable:a,focusedOption:l,selectedOption:s})=>{if(!t)return null;const d=`${r} result(s) available${o?" for search input "+o:""}.`,c=l.value?`Focused option: ${l.label}${l.isDisabled?" - disabled":""}, ${l.index+1} of ${r}.`:"",u=e?"Use Up and Down arrow keys to choose options, press Enter or Tab to select the currently focused option, press Escape to close the menu.":`${n||"Select"} is focused${a?", type to filter options":""}, press Down arrow key to open the menu.`,p=`Selected option: ${E(s)?s.map((({label:e})=>e)).join(" "):"N/A"}`,f=`${c} ${d} ${u}`;return i.default.createElement(ue,{"aria-live":"polite","data-testid":undefined},i.default.createElement("span",null," ",p),i.default.createElement("span",null," ",f))};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ge=a.default.div.withConfig({displayName:"SelectWrapper",componentId:"kcrmu9-0"})(["position:relative;box-sizing:border-box;",""],(({theme:e})=>e.select.css)),he=a.default.div.withConfig({displayName:"ValueWrapper",componentId:"kcrmu9-1"})(["flex:1 1 0%;display:flex;flex-wrap:wrap;overflow:hidden;position:relative;align-items:center;box-sizing:border-box;padding:",";"],(({theme:e})=>e.control.padding)),be=a.default.div.withConfig({displayName:"ControlWrapper",componentId:"kcrmu9-2"})(["outline:0;display:flex;flex-wrap:wrap;cursor:default;position:relative;align-items:center;box-sizing:border-box;justify-content:space-between;"," "," ",""],(({isDisabled:e,isFocused:t,isInvalid:o,theme:{control:r,color:i}})=>n.css(["transition:",";border-style:",";border-width:",";border-radius:",";min-height:",";border-color:",";"," "," "," ",""],r.transition,r.borderStyle,r.borderWidth,r.borderRadius,r.height||r.minHeight,o?i.danger:t?r.focusedBorderColor:i.border,e?"pointer-events: none;":"",r.height?`height: ${r.height};`:"",r.backgroundColor||e?`background-color: ${e?i.disabled:r.backgroundColor};`:"",t?`box-shadow: ${r.boxShadow} ${o?i.dangerLight:r.boxShadowColor};`:"")),(({theme:e})=>e.control.css),(({isFocused:e,theme:t})=>e&&t.control.focusedCss)),ve=a.default.div.withConfig({displayName:"MenuWrapper",componentId:"kcrmu9-3"})(["z-index:999;cursor:default;position:absolute;"," "," .","{display:block;overflow:hidden;user-select:none;white-space:nowrap;text-overflow:ellipsis;-webkit-tap-highlight-color:transparent;","}"],(({menuTop:e,menuOpen:t,theme:{menu:o}})=>n.css(["width:",";margin:",";padding:",";animation:",";box-shadow:",";border-radius:",";background-color:",";"," ",""],o.width,o.margin,o.padding,o.animation,o.boxShadow,o.borderRadius,o.backgroundColor,t?"":"display: none;",e?`top: ${e};`:"")),(({theme:e})=>e.menu.css),y,(({theme:{menu:{option:e}}})=>n.css(["padding:",";text-align:",";&.",",&:hover:not(.","):not(.","){background-color:",";}&.","{color:",";background-color:",";}&.","{opacity:0.35;}"],e.padding,e.textAlign,w,x,O,e.focusedBgColor,O,e.selectedColor,e.selectedBgColor,x))),ye=t.forwardRef((({async:o,isMulti:r,inputId:a,selectId:l,required:s,autoFocus:d,isLoading:c,onKeyDown:u,clearIcon:p,caretIcon:b,isInvalid:v,ariaLabel:y,menuWidth:w,isDisabled:O,inputDelay:x,onMenuOpen:C,onMenuClose:I,onInputBlur:M,isClearable:D,themeConfig:R,loadingNode:T,initialValue:P,onInputFocus:j,onInputChange:z,addClassNames:F,ariaLabelledBy:A,onOptionChange:V,onSearchChange:B,getOptionLabel:$,getOptionValue:W,itemKeySelector:U,openMenuOnFocus:K,isAriaLiveEnabled:X,menuOverscanCount:_,blurInputOnSelect:Z,renderOptionLabel:ee,renderMultiOptions:ne,menuScrollDuration:oe,filterIgnoreAccents:re,hideSelectedOptions:ie,getIsOptionDisabled:ae,getFilterOptionString:le,isSearchable:se=!0,openMenuOnClick:de=!0,filterIgnoreCase:ue=!0,tabSelectsOption:fe=!0,closeMenuOnSelect:ye=!0,scrollMenuIntoView:we=!0,backspaceClearsValue:Oe=!0,filterMatchFrom:xe=e.FilterMatchEnum.ANY,menuPosition:Ce=e.MenuPositionEnum.BOTTOM,options:Ee=h,loadingMsg:Se="Loading...",placeholder:Ie="Select option...",noOptionsMsg:ke="No options",menuItemSize:Ne=35,menuMaxHeight:Me=300},De)=>{const Re=t.useRef(!1),Te=t.useRef(),Pe=t.useRef(!1),je=t.useRef(null),ze=t.useRef(null),Le=t.useRef(null),Fe=t.useRef(null),[Ae,Ve]=t.useState(""),[Be,$e]=t.useState(!1),[We,qe]=t.useState(!1),[Ue,Ke]=t.useState(g),[Ye,He]=t.useState(m),Xe=t.useMemo((()=>S(R)?N(f,R):f),[R]),_e=t.useMemo((()=>$||(e=>e.label)),[$]),Ge=t.useMemo((()=>W||(e=>e.value)),[W]),Je=t.useMemo((()=>ee||_e),[ee,_e]),Qe=((e,n)=>{const[o,r]=t.useState(e);return t.useEffect((()=>{if(void 0===n)return;const t=setTimeout((()=>{r(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),void 0===n?e:o})(Ae,x),[Ze,et]=t.useState((()=>k(P,Ge,_e))),tt=G(Ee,Qe,xe,Ze,Ge,_e,ae,le,ue,re,r,ie,o),[nt,ot]=Q(ze,Fe,Be,Ce,Ne,Me,tt.length,oe,we,C,I),rt=()=>{var e;return null===(e=Le.current)||void 0===e?void 0:e.blur()},it=()=>{var e;return null===(e=Le.current)||void 0===e?void 0:e.focus()},at=e=>{var t;return null===(t=je.current)||void 0===t?void 0:t.scrollToItem(e)},lt=(e,t)=>{e.stopPropagation(),t&&e.preventDefault()},st=t.useCallback(((e,t)=>{t&&lt(t,"mousedown"===t.type),et((t=>t.filter((({value:t})=>t!==e))))}),[]),dt=t.useCallback((e=>{if(!E(tt))return void(!Re.current&&$e(!0));const t=r?-1:tt.findIndex((({isSelected:e})=>e)),n=t>-1?t:e===H.FIRST?0:tt.length-1;!Re.current&&$e(!0),He(me({index:n},tt[n])),at(n)}),[r,tt]),ct=t.useCallback(((e,t)=>{t?r&&st(e.value):et((t=>r?[...t,e]:[e]));("boolean"==typeof Z?Z:"undefined"!=typeof window&&"ontouchstart"in window||"undefined"!=typeof navigator&&!!navigator.maxTouchPoints)?rt():ye&&($e(!1),Ve(""))}),[r,ye,st,Z]);t.useImperativeHandle(De,(()=>({blur:rt,focus:it,clearValue:()=>{et(h),He(m)},setValue:e=>{const t=k(e,Ge,_e);et(t)},toggleMenu:e=>{!0===e||void 0===e&&!Be?(!We&&it(),dt(H.FIRST)):rt()}}))),t.useEffect((()=>{d&&it()}),[d]),t.useEffect((()=>{Re.current=Be}),[Be]),t.useEffect((()=>{We&&K&&dt(H.FIRST)}),[We,K,dt]),t.useEffect((()=>{B&&Pe.current&&(Pe.current=!1,B(Qe))}),[B,Qe]),J((()=>{if(!V)return;const e=r?Ze.map((({data:e})=>e)):E(Ze)?Ze[0].data:g;V(e)}),[r,Ze,V]),J((()=>{const e=tt.length>0&&(o||tt.length!==Ee.length||0===Te.current);0===tt.length?He(m):(1===tt.length||e)&&(He(me({index:0},tt[0])),at(0)),Te.current=tt.length}),[o,Ee,tt]);const ut=()=>{const{data:e,value:t,label:n,isSelected:o,isDisabled:r}=Ye;e&&!r&&ct({data:e,value:t,label:n},o)},pt=e=>{if(O)return;We||it();const t="INPUT"!==e.currentTarget.tagName;Be?t&&(Be&&$e(!1),Ae&&Ve("")):de&&dt(H.FIRST),t&&e.preventDefault()},ft=t.useCallback((e=>{null==M||M(e),qe(!1),$e(!1),Ve("")}),[M]),mt=t.useCallback((e=>{null==j||j(e),qe(!0)}),[j]),gt=t.useCallback((e=>{Pe.current=!0;const t=e.currentTarget.value||"";null==z||z(t),!Re.current&&$e(!0),Ve(t)}),[z]),ht=t.useCallback((e=>{lt(e,"mousedown"===e.type),et(h),it()}),[]),bt=t.useCallback((e=>{lt(e,"mousedown"===e.type),it(),Re.current?$e(!1):dt(H.FIRST)}),[dt]);return i.default.createElement(n.ThemeProvider,{theme:Xe},i.default.createElement(ge,{id:l,role:"combobox","aria-haspopup":"listbox","aria-controls":a,"aria-expanded":Be,onKeyDown:e=>{if(!(O||u&&(u(e,Ae,Ye),e.defaultPrevented))){switch(e.key){case"ArrowDown":case"ArrowUp":const t="ArrowDown"===e.key;Be?(e=>{if(!E(tt))return;const t=e===H.DOWN?(Ye.index+1)%tt.length:Ye.index>0?Ye.index-1:tt.length-1;Ue&&Ke(g),He(me({index:t},tt[t])),at(t)})(t?H.DOWN:H.UP):dt(t?H.FIRST:H.LAST);break;case"ArrowLeft":case"ArrowRight":if(!r||Ae||ne)return;(e=>{if(!E(Ze))return;let t=-1;const n=Ze.length-1,o=Ue?Ze.findIndex((e=>e.value===Ue)):-1;switch(e){case Y.NEXT:t=o>-1&&o<n?o+1:-1;break;case Y.PREVIOUS:t=0!==o?-1===o?n:o-1:0}const r=t>=0?Ze[t].value:g;Ye.data&&He(m),r!==Ue&&Ke(r)})("ArrowLeft"===e.key?Y.PREVIOUS:Y.NEXT);break;case" ":if(Ae)return;if(Be){if(!Ye.data)return;ut()}else dt(H.FIRST);break;case"Enter":Be&&229!==e.keyCode&&ut();break;case"Escape":Be&&($e(!1),Ve(""));break;case"Tab":if(!Be||!fe||!Ye.data||e.shiftKey)return;ut();break;case"Delete":case"Backspace":if(Ae)return;if(Ue){const e=Ze.findIndex((({value:e})=>e===Ue)),t=e>-1&&e<Ze.length-1?Ze[e+1].value:g;st(Ue),Ke(t)}else{if(!Oe)return;if(E(Ze))if(r&&!ne){const{value:e}=Ze[Ze.length-1];st(e)}else D&&et(h)}break;default:return}e.preventDefault()}},"data-testid":undefined,className:F?"rfs-select-container":void 0},i.default.createElement(be,{ref:Fe,isInvalid:v,isFocused:We,isDisabled:O,onTouchEnd:pt,onMouseDown:pt,"data-testid":undefined,className:F?"rfs-control-container":void 0},i.default.createElement(he,null,i.default.createElement(q,{isMulti:r,inputValue:Ae,placeholder:Ie,selectedOption:Ze,focusedMultiValue:Ue,renderOptionLabel:Je,renderMultiOptions:ne,removeSelectedOption:st}),i.default.createElement(te,{id:a,ref:Le,required:s,ariaLabel:y,inputValue:Ae,onBlur:ft,onFocus:mt,addClassNames:F,onChange:gt,ariaLabelledBy:A,selectedOption:Ze,readOnly:O||!se||!!Ue})),i.default.createElement(ce,{menuOpen:Be,clearIcon:p,caretIcon:b,isInvalid:v,isLoading:c,isDisabled:O,loadingNode:T,addClassNames:F,onClearMouseDown:ht,showClear:!(!D||O||!E(Ze)),onCaretMouseDown:O||de?void 0:bt})),i.default.createElement(ve,{ref:ze,menuOpen:Be,menuTop:nt,onMouseDown:e=>{lt(e,!0),it()},"data-testid":undefined,className:F?"rfs-menu-container":void 0},i.default.createElement(L,{ref:je,isLoading:c,height:ot,itemSize:Ne,loadingMsg:Se,menuOptions:tt,noOptionsMsg:ke,selectOption:ct,itemKeySelector:U,overscanCount:_,width:w||Xe.menu.width,renderOptionLabel:Je,focusedOptionIndex:Ye.index})),X&&i.default.createElement(pe,{menuOpen:Be,isFocused:We,ariaLabel:y,inputValue:Ae,isSearchable:se,focusedOption:Ye,selectedOption:Ze,optionCount:tt.length})))}));ye.displayName="Select",e.Select=ye,Object.defineProperty(e,"__esModule",{value:!0})}));
